<a name="RULE"> <title>RULE</title></a>
<b><a href="r37_idx.html">INDEX</a></b>
<p></p>
<p><b>RULE</b> _ _ _ _ _ _ _ _ _ _ _ _ <b>type</b></p>

<p></p>
<p></p>

<p></p>
<p>
  A <em>rule</em> is an instruction to replace an algebraic expression or a part
  of an expression by another one.
</p>

<p></p>
<h3>syntax:</h3>
<p></p>
<p>
  &lt;lhs&gt; =&gt; &lt;rhs&gt; or &lt;lhs&gt; =&gt; &lt;rhs&gt;
  <em>when</em> &lt;cond&gt;
</p>

<p></p>
<p></p>
<p>
  &lt;lhs&gt; is an algebraic expression used as search pattern and &lt;rhs&gt;
  is an algebraic expression which replaces matches of &lt;rhs&gt;.
  <em>=&gt;</em> is the operator <a href="r37_0026.html">replace</a>.
</p>

<p></p>
<p>
  &lt;lhs&gt; can contain
  <a href="r37_0061.html">free variable</a>s which are symbols preceded by a
  tilde <em>~</em> in their leftmost position in &lt;lhs&gt;. A double tilde
  marks an <a href="r37_0062.html">optional free variable</a>. If a rule has a
  <em>when</em> &lt;cond&gt; part it will fire only if the evaluation of
  &lt;cond&gt; has a result <a href="r37_0122.html">true</a>. &lt;cond&gt; may
  contain references to free variables of &lt;lhs&gt;.
</p>

<p></p>
<p>
  Rules can be collected in a
  <a href="r37_0053.html">list</a> which then forms a <em>rule list</em>.
  <em>Rule lists</em> can be used to collect algebraic knowledge for a specific
  evaluation context.
</p>

<p></p>
<p>
  <em>Rules</em>and <em>rule lists</em> are globally activated and deactivated
  by <a href="r37_0199.html">let</a>, <a href="r37_0195.html">forall</a>,
  <a href="r37_0190.html">clearrules</a>. For a single evaluation they can be
  locally activate by <a href="r37_0227.html">where</a>. The active rules for an
  operator can be visualized by <a href="r37_0178.html">showrules</a>.
</p>

<p></p>
<p></p>
<p></p>
<h3>examples:</h3>
<p></p>
<pre><TT>
operator f,g,h;

let f(x) =&gt; x^2;

f(x);

   2
  x


g_rules:={g(~n,~x)=&gt;h(n/2,x) when evenp n,

g(~n,~x)=&gt;h((1-n)/2,x) when not evenp n}$

let g_rules;

g(3,x);

  h(-1,x)

</TT></PRE>
<p></p>
